"use strict";(self["webpackChunktest_dome"]=self["webpackChunktest_dome"]||[]).push([[234],{8234:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var n=function(){var t=this,e=t._self._c;return e("div",[e("h3",[t._v("转盘抽奖")]),e("div",{staticClass:"round_box"},[e("img",{ref:"rotImg",staticClass:"img_rotate",attrs:{src:s(6116),alt:""}}),t._m(0)]),e("button",{on:{click:t.toDraw}},[t._v("点击抽奖")])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"center"},[e("div",{staticClass:"pointer"})])}],a={name:"rotaryDraw",data(){return{rotate:0,resetRotate:0,hitId:1,drawStatus:!1}},async mounted(){await this.$nextTick();let t=this.whichTransitionEvent(),e=this.$refs.rotImg,s=this;const n=["天柱星","天冲星","天英星","天蓬星"];function r(){s.resetRotate=s.rotate>360?s.rotate%360:0,console.log(37,s.resetRotate),e.style.transition="none 0s ease 0s",e.style.transform=`rotate(${s.resetRotate}deg)`,alert(`抽奖结果【 ${n[s.hitId-1]} 】`),s.drawStatus=!1}e.addEventListener(t,r,!1)},methods:{start(){this.$refs.rotImg.style.transition="all 3s ease 0s",this.$refs.rotImg.style.transform=`rotate(${this.rotate}deg)`},toDraw(){if(this.drawStatus)return void console.log("正在抽奖中");this.drawStatus=!0;let t=360,e=this.getRandomInt(1,4);this.hitId=e;let s=this.resetRotate>0?315:0,n=this.rotate+(e-1)+t+s;this.rotate=this.setRotate(n),console.log(71,this.rotate),this.start()},setRotate(t){let e=t-45;return e>1305?this.setRotate(e):t},getRandomInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},whichTransitionEvent(){let t=document.createElement("span"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(let s in e)if(void 0!==t.style[s])return e[s];t=null}}},i=a,o=s(3736),l=(0,o.Z)(i,n,r,!1,null,null,null),h=l.exports},6116:function(t,e,s){t.exports=s.p+"img/img_index6.120a1107.png"}}]);
//# sourceMappingURL=234.a83c81ef.js.map